{"version":3,"sources":["webpack:///./components/file-upload/file-drop.ts?3484","webpack:///./components/file-upload/file-select.ts?4587","webpack:///./components/index.ts?3f42"],"names":["FileDrop","FileDrop.constructor","FileDrop.getOptions","FileDrop.getFilters","FileDrop.onDrop","FileDrop.onDragOver","FileDrop.onDragLeave","FileDrop._getTransfer","FileDrop._preventAndStop","FileDrop._haveFiles","FileDrop._addOverClass","FileDrop._removeOverClass","FileSelect","FileSelect.constructor","FileSelect.getOptions","FileSelect.getFilters","FileSelect.isEmptyAfterSelection","FileSelect.onChange"],"mappings":"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","file":"angular2-file-upload.js","sourcesContent":["import {\n  Component, View, OnInit, OnDestroy, OnChanges,\n  Directive, EventEmitter, ElementRef, Renderer,\n  CORE_DIRECTIVES, FORM_DIRECTIVES, NgClass\n} from 'angular2/angular2';\n\nimport {FileUploader} from './file-uploader';\n\n@Directive({\n  selector: '[ng2-file-drop]',\n  properties: ['config: ng2FileDrop', 'uploader'],\n  events: ['fileOver'],\n  host: {\n    '(drop)': 'onDrop($event)',\n    '(dragover)': 'onDragOver($event)',\n    '(dragleave)': 'onDragLeave($event)'\n  }\n})\nexport class FileDrop {\n  public uploader:FileUploader;\n  public config:any = {};\n  private fileOver:EventEmitter = new EventEmitter();\n\n  constructor(private element:ElementRef) {\n  }\n\n  getOptions() {\n    return this.uploader.options;\n  }\n\n  getFilters() {\n  }\n\n  onDrop(event) {\n    let transfer = this._getTransfer(event);\n    if (!transfer) {\n      return;\n    }\n\n    let options = this.getOptions();\n    let filters = this.getFilters();\n    this._preventAndStop(event);\n    this.uploader.addToQueue(transfer.files, options, filters);\n    this.fileOver.next(false);\n  }\n\n  onDragOver(event) {\n    let transfer = this._getTransfer(event);\n    if (!this._haveFiles(transfer.types)) {\n      return;\n    }\n\n    transfer.dropEffect = 'copy';\n    this._preventAndStop(event);\n    this.fileOver.next(true);\n  }\n\n  onDragLeave(event) {\n    if (event.currentTarget === this.element[0]) {\n      return;\n    }\n\n    this._preventAndStop(event);\n    this.fileOver.next(false);\n  }\n\n  _getTransfer(event) {\n    return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\n  }\n\n  _preventAndStop(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  _haveFiles(types) {\n    if (!types) {\n      return false;\n    }\n\n    if (types.indexOf) {\n      return types.indexOf('Files') !== -1;\n    } else if (types.contains) {\n      return types.contains('Files');\n    } else {\n      return false;\n    }\n  }\n\n  _addOverClass(item) {\n    item.addOverClass();\n  }\n\n  _removeOverClass(item) {\n    item.removeOverClass();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/file-upload/file-drop.ts\n **/","/// <reference path=\"../../tsd.d.ts\" />\n\nimport {\n  Component, View, OnInit, OnDestroy, OnChanges,\n  Directive, EventEmitter, ElementRef, Renderer,\n  CORE_DIRECTIVES, FORM_DIRECTIVES, NgClass\n} from 'angular2/angular2';\n\nimport {FileUploader} from './file-uploader';\n\n// todo: filters\n\n@Directive({\n  selector: '[ng2-file-select]',\n  properties: ['config: ng2FileSelect', 'uploader'],\n  host: {\n    '(change)': 'onChange()'\n  }\n})\nexport class FileSelect {\n  public uploader:FileUploader;\n  public config:any = {};\n\n  constructor(private element:ElementRef) {\n  }\n\n  public getOptions() {\n    return this.uploader.options;\n  }\n\n  public getFilters() {\n  }\n\n  public isEmptyAfterSelection():boolean {\n    return !!this.element.nativeElement.attributes.multiple;\n  }\n\n  onChange() {\n    // let files = this.uploader.isHTML5 ? this.element.nativeElement[0].files : this.element.nativeElement[0];\n    let files = this.element.nativeElement.files;\n    let options = this.getOptions();\n    let filters = this.getFilters();\n\n    // if(!this.uploader.isHTML5) this.destroy();\n\n    this.uploader.addToQueue(files, options, filters);\n    if (this.isEmptyAfterSelection()) {\n      // todo\n      // this.element.nativeElement.properties.value = '';\n      /*this.element.nativeElement\n       .replaceWith(this.element = this.element.nativeElement.clone(true)); // IE fix*/\n    }\n  }\n}\n\nexport const fileUpload:Array<any> = [FileSelect];\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/file-upload/file-select.ts\n **/","///<reference path=\"../tsd.d.ts\"/>\n\nexport * from  './file-upload/file-select';\nexport * from  './file-upload/file-drop';\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/index.ts\n **/"],"sourceRoot":""}